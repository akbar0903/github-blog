---
import Layout from './Layout.astro'
import ArticleToc from "../components/ArticleToc.astro";

const { frontmatter } = Astro.props
const {headings } = Astro.props
---

<Layout title={ frontmatter.title }>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 my-4 md:m-4">
        <article>
            <slot/>
        </article>

        <div class="hidden md:block w-full md:col-span-1 relative">
            <div class="sticky top-20 max-h-1/2 h-80 flex flex-col card-style">
                <h3 class="font-semibold text-lg mb-2 text-primary">文章目录</h3>
                <div class="flex-1 overflow-y-auto overflow-x-hidden toc-wrapper">
                    <ArticleToc headings={headings} />
                </div>
            </div>
        </div>
    </div>
</Layout>
